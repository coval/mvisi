{% extends 'base.html' %}


{% block menu %}
		<li><a class="current" href="/">Projects</a></li>
<!--		<li><a href="#">Packages</a></li>
		<li class="last"><a href="#">Components</a></li>-->
{% endblock menu %}

{% block content %}

<div id="main">

	<h2><a href="/projects/{{project.id}}/">Project name: {{project.name}}</a><span id=package_version>Package version: {{package.version}}</span></h2>
	<div id="button_layer">
        <div id="refresh_button">
            <a href="/projects/{{project.id}}/packages/{{package.id}}/check/">>>>Check package and list dependencies<<<</a>
        </div>
	</div>


	<div class="comp_table">
		<table width="100%" cellspacing="0" cellpadding="0">
			<thead>
			<tr>
				<th>ArtifactId</th>
				{% if package.get_previous_package %}
					<th>Previous package<br /><a href="/projects/{{project.id}}/packages/{{package.get_previous_package.id}}/">({{ package.get_previous_package.version }})</a></th>
				{% endif %}
				<th>Current package<br />({{ package.version}})</th>
				{% if package.get_next_package %}
					<th>Next package<br /><a href="/projects/{{project.id}}/packages/{{package.get_next_package.id}}/">({{ package.get_next_package.version}})</a></th>
				{% endif %}
				<th>Newest<br />component version</th>
				
			</tr>
			</thead>
			<tbody>
			{% for component in components %}
			<tr>
				<td><a href="/components/{{component.id}}/">{{ component.artifactId }}</a></td>
				{% if package.get_previous_package %}
					<td>{% ifequal component.version component.in_previous.version %}
						<center title="{{component.version}}">=</center>
						{% else %}
						<a href="/components/{{component.in_previous.id}}/">{{ component.in_previous.version }}</a>
						{% endifequal %}
					</td>
				{% endif %}
				
				<td>{{component.version}}</td>
				
				{% if package.get_next_package %}
					<td>{% ifequal component.version component.in_next.version %}
						<center title="{{component.version}}">=</center>
						{% else %}
						<a href="/components/{{component.in_next.id}}/">{{ component.in_next.version }}</a>
						{% endifequal %}
					</td>
				{% endif %}
				
	
				<td>{% if not component.get_newest_component.version %}
					<center title="{{component.version}}">=</center>
					{% else %}
					<a href="/components/{{component.get_newest_component.id}}/">{{ component.get_newest_component.version }}</a>
					{% endif %}
				</td>
			
			</tr>
			{% endfor %}
			</tbody>
		</table>
	</div>
</div>

<div id="right_release">
	<h3>Changeset - changes from previous package: ({{ package.get_previous_package }})</h3>
	<div id="release_side">
		<ul>
		{% for elem in release_notes %}
			<li>{{ elem }}</li>
		{% endfor %}
		</ul>

	</div>
</div>


{% endblock content %}





